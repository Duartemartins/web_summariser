<!doctype html>
<html lang="en">

<head>
    <!-- Google Tag Manager -->
    <script>
        (function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-NG9F4B2B');
    </script>
    <!-- End Google Tag Manager -->
    <!-- Tailwind CSS -->
    <link href="/static/css/styles.css" rel="stylesheet">
    <link href="/static/css/tailwind.css" rel="stylesheet">
    <script src="/static/js/scripts.js" defer></script>
    <title>Web Summariser</title>

    <meta name="purpleads-verification" content="275a768da24d64e672608555" />
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "name": "Web Summariser",
            "url": "https://websummariser.com/"
        }
        </script>

</head>

<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NG9F4B2B" height="0" width="0"
            style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div class="flex flex-col justify-center items-center min-h-screen">
        <div class="mb-8 text-center">
            <h1 class="text-4xl font-bold">Web Summariser</h1> <!-- Name of the app -->
            <p class="mt-2 text-gray-700">
                by <a href="https://www.trydeepdive.com" class="underline">DeepDive</a>
            </p>
            <p class="mt-2 text-gray-700">
                Safely summarise web pages of any size using the power of AI.
            </p>
            
        </div>
        <form onsubmit="submitApiKey(event)" class="p-6 mb-4 w-1/3 bg-white rounded shadow-lg">
            <input type="text" name="api_key" class="p-2 w-full rounded border" placeholder="Enter OpenAI API Key"
                required>
            <button type="submit" class="p-2 mt-4 text-white bg-blue-500 rounded">Submit</button>
            <p class="mt-4 text-sm text-gray-700">
                Your OpenAI API key is safe. Precautions have been taken to secure it, including server-side handling
                and secure transmission.
            </p>
            <p class="text-sm underline">
                <a href="https://github.com/Duartemartins/web_summariser" target="_blank">View Source Code on GitHub</a>
            </p>
            <p class="text-sm underline">
                <a href="https://platform.openai.com/account/api-keys">Get OpenAI API key</a>
            </p>
        </form>

        <form onsubmit="submitUrl(event)" class="p-6 w-1/3 bg-white rounded shadow-lg">
            <input type="url" name="web_url" class="p-2 w-full rounded border" placeholder="Enter webpage URL" required
                pattern="https?://.+" title="Include http:// or https://">
            <button type="submit" class="p-2 mt-4 w-full text-white bg-blue-500 rounded" id="submit-url">Submit
                URL</button>
        </form>

        <!-- Place Buy Me a Coffee link in a new centered div -->
        <div class="mt-5 mb-4 w-1/6 text-center">
            <a href="https://www.buymeacoffee.com/vj29sqm686n" target="_blank"><img
                    src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me A Coffee"
                    class="mx-auto"></a>
        </div>
        <div id="error-popup"
            class="flex hidden absolute top-0 left-0 justify-center items-center w-full h-full bg-black bg-opacity-50">
            <div class="p-4 text-center bg-white rounded shadow-lg">
                <p class="text-red-500">Incorrect API key. Please check and try again.</p>
                <button id="close-popup"
                    class="px-4 py-1 mt-2 text-white bg-red-500 rounded hover:bg-red-600">Close</button>
            </div>
        </div>



        <div id="loading-spinner" class="hidden">Loading...</div>


        <div id="summary" class="hidden p-6 mt-4 w-1/3 bg-white rounded shadow-lg">
            <div class="flex justify-between items-center mb-4 w-full"> <!-- Flex container -->
                <h2 class="text-2xl font-bold">Summary</h2>

                

                <button id="shareButton" class="px-4 py-2 font-bold text-white bg-blue-500 rounded hover:bg-blue-700">
                    Share
                </button>
            </div>
            <div class="p-3 bg-gray-100 rounded">
                <p class="text-sm text-gray-700">Want to analyze the generated text? Use the <a href="https://trydeepdive.com/text-analyser" target="_blank" class="text-blue-500 hover:text-blue-600">DeepDive Text Analyser</a>.</p>
            </div>
            <div id="summary-content" class="mt-2">
                <!-- Summary will go here -->
            </div>
        </div>


        <div>
            <script
                src="https://cdn.prplads.com/agent.js?publisherId=4e9b4d200496175576525876f66821f0:e66c2b3144b1a51ad6deea53223dcbf66d5b7d90087bb8905e7b5292770e45d2f4c85e8c5436bd9a7c0a62dc5959ec75676306eeaaeb2e47c9cc115c19446c00"
                data-pa-tag async></script>
        </div>



    </div>

</body>

</html>